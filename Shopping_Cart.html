<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css">
    <script src="Shopping_Cart.js"></script>
</head>
<body onload="showproducts()">
<h2> Shopping Cart</h2>
<form name="ShoppingList" action='' method='get'>
<table>
    <br>Product:<select class="options" type="text" name="Products" id="productSelect" required>

    </select><br>
<br>Units: <input type="number" min='0' step="1" id="Units" value= "0"  onchange="calculateTotal()" required="required" title='Units' maxlength="100"><br>
<br>Unit Price:<input type="number" id="UnitPrice" value="" readonly><br>
<br>Total Price:<input id="TotalPrice" value=""><br>
</table>
<br><input type="submit" value="Submit" >
</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="js/scripts.js"></script>
<script>
$(document).ready(function(){
	$(".options").change(function(){
    $("#UnitPrice").val($(".options").val());
		  $("#TotalPrice").val( $(".options").val() * $("#Units").val());
  });
});


function showproducts() {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
            	var obj = eval(this.responseText);
            	var x = document.getElementById("productSelect");
            	
                for (i = 0; i < obj.length; i++) {
                	  var option = document.createElement("option");
                	  option.value = obj[i].unitPrice;
                	  option.text = obj[i].description + ' ' + obj[i].unitPrice ;
                	  x.add(option, x[i]);
                	}
            }
        };
        xmlhttp.open("GET","getProducts.php",true);
        xmlhttp.send();
   
}
</script>
</body>
</html>